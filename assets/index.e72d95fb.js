const F=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))A(o);new MutationObserver(o=>{for(const q of o)if(q.type==="childList")for(const i of q.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&A(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const q={};return o.integrity&&(q.integrity=o.integrity),o.referrerpolicy&&(q.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?q.credentials="include":o.crossorigin==="anonymous"?q.credentials="omit":q.credentials="same-origin",q}function A(o){if(o.ep)return;o.ep=!0;const q=n(o);fetch(o.href,q)}};F();var J="/snake-game-js/assets/snake.5576f49c.svg",O="/snake-game-js/assets/pre-count.cabb38ff.mp3",Q="/snake-game-js/assets/start.88340864.mp3",T="data:audio/mpeg;base64,//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAFAAAE5AAzMzMzMzMzMzMzMzMzMzMzMzMzM2ZmZmZmZmZmZmZmZmZmZmZmZmZmmZmZmZmZmZmZmZmZmZmZmZmZmZnMzMzMzMzMzMzMzMzMzMzMzMzMzP////////////////////////8AAAA6TEFNRTMuOTlyAaUAAAAAAAAAABRAJAQQQgAAQAAABOThWC7oAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAkkhTmUEYABkJ9t/x7QAJEnAAQgAHAzMYxjAjMYxsgMDdz06iJ9c/0REShwAAAE3dz9ERE3AABHA+oH1AgGBICAIHOCAIAN9X/+JDhc/J1g//ygIAg7/wxJhLrDIyrKwrn4WzUIxUAxuUt5xmCGlHwciFqFEPGBnu+yXECXUJIszRRLiRcGFBuElptNC6ZLUmXS+eoKQNKtFSLNQ6bLp1I09rVKZX76emr/TU1uzXNM00FEfKSk4r/0DPz61fKwl9ByjrV8engx//n/+1LEBoAL6SVsHPMAAXOLMD2UjRjeWYsEQxnMZveJ/+lJp65j3hQGKIRD0vwTBCZN9sEQ6ZAcgg9KJ6yCTxNF0h3JYzs5jvBuXf1ROFzn/ZVLKN+7DvhXuGh9XZyTzWe1qHuqU/zyOtXyKZ1SRAlJ1/Zp/ZHm+quU9jDzFpQNi40FARLGWbLvycGNcLDUOb8eHwDOAygOIciPYosXEiZJA2QIsMGa2x9oFEi2McbY/Pti5jsFIgUXua99ZMoNF2kMkNf3qqh2Q0MyOlBWExJgh//7UsQGAAvQyYHHmE6Rfwqv+PYY4hGUMQVUlOX5DjmL0bpcFG2LKzgzRJ66SghJaPYxVRWXs5kSyz0Mjp1L6+pXko//TsIEgfOxiBVN4WS0u+5lCnb2O1Xn1ypMg4HocaGTJhS3WPlJu6qHVDLpVBQMVeLAXYtpykhD0nl0QDsiASXjqXjExWmJGUZckSsjA4iKNCVkHPTLqOBdxtynnRRGtpljxVBgYeYdHpkWGRo5K0FTrK0LnWkWJW9qUFbaeqy4jay9Huoqeqqqh3ZdpVBZ//tSxASAC2ypcceYURFljel0YSbCsWIS4rq6JUrH5fmNMd6nUNVtIVnyeWCqo25I5/5qn9a8zNgqOyyW/zGM9DNp/+VlARIKhpYdEv0a9SzoNLeR4NAUNTv+Inho7DuVyp2diIf1ckpbRttu6kiUWpLTSJFqz8okcSLRZpbz+7go1golZWo/qAkYlSJiqj2cQhUBFQEWJBVykAUVFSUJEgoBRUY1EkeUvLEeE3WBrxQk9kFiRoiExUBJDUYPdkj3vmi40EjaqqiVR4ko8WedlTr/+1LECAEHrAELgIRAAO2AEYgQjbhVwKuLZIsebKqfxE8Gn4iPFXdCuCvxKd2VB3/LPLPwWeVDXKz35VwhDWWOwaHgAC8VFRX//q1ioqKiv//4qKioqypv/qFhZQuKioqKiwsLCwuwVFWeWCQsLCwMhUVFRQTCwsFhUVFRGEJMQU1FMy45OS41qqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",b="data:audio/mpeg;base64,//tQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAFAAAE5AAzMzMzMzMzMzMzMzMzMzMzMzMzM2ZmZmZmZmZmZmZmZmZmZmZmZmZmmZmZmZmZmZmZmZmZmZmZmZmZmZnMzMzMzMzMzMzMzMzMzMzMzMzMzP////////////////////////8AAAA6TEFNRTMuOTlyAaUAAAAAAAAAABRAJAUOQgAAQAAABOS7RKxOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/7UMQAAAoYYSJ1h4ARgZhvdzLwSgAEQPWXvggkLwNARvMZzScFHQUaY9ZasynNKTONHNugAHAMyTtTI3lvLm+LedbPimsw37x5E1m/vDePKCcHz4n/Lg+c4Of////8oGC////+XAAA9iJhNksut+wAAAA24cyIq8iWV17Cl2pR6lqHAWYjhMKIkkL2HrZDvREHR15Z7U/i6XaFsnLMf2+dojE37P8ehxbY3hZCMTeA8189ubdet9nlv6j6/v+wfwnn6drncqrQSDIY04AG5Mv/+1LEBIALKNddXaaAMXqVqz2uISOkqAktiYqScpBXeGFdkD+0vNZOkCAHlmqKRl0hJg+AoiWKZRS9RPDIeFcYJz6lGReMwmwGkcZffbokiMkZZun/USRfKCDf5eQ/0jIzLjEU5VDACWCBQCTl4Am3kftSiLhQSdSHDjPQIlPu2E4aXzOqKMjCExqLN4O2qsr/P5bTfNfKOAYQz//+aB4GQjt9hwu7kKCkJBc///saKg8aKVwnxlOOP79zQN29m0w0r/P5tAU0UIhUuAD6tKXagP/7UsQGgAuor1msdWbZeJYpNZYV4quqdGVChSvVHTJRDTCdfDxRpjI4Fx4TnlfWGh6LiU9RZev4eisNxiX4CgGCXDd5rt/+W5qoqeNEGVH/9JVpHrRhNBQsk3TfA/8uDQtUjAd/VEiA22ASncJ/JVN8dJ+2Cw8ypMkIFBHZ+YAqASRXHFIl6Y8+zMUFKdWZgeDkEgPCkaDUzfpxF/9xEcZxEWDokOAMXnO3+qB4xjCxIFgGUiMdKjAVDRbSgXT//////eopxkANIABMUc/XJt/W//tSxAaACpSTO608T1GTmWh8/A2R7KdwE0KEqxAAmTFDBbTZPgE4mcIY4Wjvqwp4O8ZtF3iucSzE+E2EKJsS0xS5qNnj4///+jlAQFgoJhF8h8rBosBRVj////9gs6woAcKyG7/hrv52B5DfpgsbxsqzDtLamZrAGDMAkcbdpYkta+YGLCCHeE6X/pQMYVQwtH+Jvpvvpvz+8W0hUI7Cp04VOFRFLESxAiWInniB4gcPEDxAgeIHiZJ5J55J9azwzwoFOwgEEgpuNxMKE0qGTpP/+1LEB4PJyDMzoKWEQAAANIAAAARTLmxJKQ/ACiaMSddby4CgUYPCQUCoweM5E6dPHdp46ePNZJESREmSIkhEIkJRSVLFSpYqpS1LLFh4we7/f/tqTEFNRTMuOTkuNaqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqg==",N="/snake-game-js/assets/mixkit-arcade-retro-game-over-213.c295063f.mp3",B="/snake-game-js/assets/mixkit-arcade-magic-notification-2342.dfd78603.mp3";let s=9,a,h=null,m=null,y=null,j={easy:400,medium:250,hard:125},C=!1,E=!1,r=null,l=null,M=null,g=!1;const D=new Audio(O),G=new Audio(Q),z=new Audio(T),P=new Audio(b),L=new Audio(N),W=new Audio(B);z.volume=.25;L.volume=.425;const f=document.querySelector("#app");f.setAttribute("tabIndex",1);const d=document.createElement("div");d.classList.add("playground");d.style.setProperty("--playground-size",s);const S=document.createElement("div");S.classList.add("playground__grid");for(let e=0;e<s*s;e++){const t=document.createElement("div");S.appendChild(t)}const c=document.createElement("div");c.classList.add("score");f.appendChild(d);d.appendChild(c);d.appendChild(S);const V=()=>{const e=document.createElement("div"),t=document.createElement("div");e.classList.add("score__current"),t.classList.add("score__best"),e.textContent=0,t.textContent=`${m}: ${JSON.parse(localStorage.getItem(m))||0}`,c.appendChild(e),c.appendChild(t)},Y=()=>{for(;c.firstChild;)c.removeChild(c.firstChild)},H=()=>{c.querySelector(".score__current").textContent=a.length-3},X=(e,t)=>{c.querySelector(".score__best").textContent=`${e}: ${t}`},k=()=>{const e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("h1"),A=document.createElement("h3"),o=document.createElement("button"),q=document.createElement("button"),i=document.createElement("button");e.classList.add("main-screen"),t.classList.add("main-screen__logo"),n.classList.add("main-screen__title"),A.classList.add("main-screen__descr"),t.src=J,n.textContent="Snake Game",A.textContent="Choose Level",o.textContent="easy",q.textContent="medium",i.textContent="hard",e.appendChild(t),e.appendChild(n),e.appendChild(A),e.appendChild(o),e.appendChild(q),e.appendChild(i),d.appendChild(e),e.onmouseover=u=>{u.target.matches("button")&&p(z)},e.onclick=u=>{if(!u.target.matches("button"))return;const v=u.target.textContent;$(v),e.remove(),f.focus()}},_=()=>{const e=document.createElement("div"),t=document.createElement("button"),n=document.createElement("button"),A=document.createElement("button"),o=document.createElement("button");e.classList.add("controls"),t.textContent="\u25B2",n.textContent="\u25BC",A.textContent="\u25C0",o.textContent="\u25B6",t.style.gridColumnStart="2",A.style.gridColumnStart="1",o.style.gridColumnStart="3",n.style.gridColumnStart="2",e.appendChild(t),e.appendChild(A),e.appendChild(o),e.appendChild(n),f.appendChild(e),e.onclick=q=>{if(g||!C)return;const i=q.target===t,u=q.target===n,v=q.target===A,K=q.target===o;i&&l!=="down"&&(r="up"),u&&l!=="up"&&(r="down"),v&&l!=="right"&&(r="left"),K&&l!=="left"&&(r="right")}},$=e=>{ee(e),ne(),U(),Z(),V(),te()},ee=e=>{y=j[e],m=e},p=e=>{e.currentTime=0,e.pause(),e.load(),e.play()},te=()=>{const e=["3","2","1","GO!"],n=document.createElement("div");n.classList.add("countdown"),d.appendChild(n),n.style.setProperty("--interval",750+"ms");for(let A=0;A<e.length;A++)setTimeout(()=>{n.textContent=e[A],A<e.length-1?p(D):p(G)},750*A);setTimeout(()=>{x(),n.remove()},750*e.length)};f.onkeydown=e=>{if(g||!C)return;const t=e.key==="ArrowUp"||e.key==="w",n=e.key==="ArrowDown"||e.key==="s",A=e.key==="ArrowLeft"||e.key==="a",o=e.key==="ArrowRight"||e.key==="d",q=e.code==="Space";t&&l!=="down"&&(r="up"),n&&l!=="up"&&(r="down"),A&&l!=="right"&&(r="left"),o&&l!=="left"&&(r="right"),q&&(E?x():R())};const ne=()=>{const e=document.createElement("div");e.classList.add("snake"),d.appendChild(e),a=[[3,(s-1)/2],[2,(s-1)/2],[1,(s-1)/2]],r="down",w()},oe=()=>{let[e,t]=a[0];if(r==="up"&&e--,r==="down"&&e++,r==="left"&&t--,r==="right"&&t++,e=e<0?s-1:e,t=t<0?s-1:t,e=e>s-1?0:e,t=t>s-1?0:t,a.unshift([e,t]),qe()?(U(),H(),p(P)):a.pop(),w(),l=r,g=re(),g)return se()},w=()=>{const e=document.querySelector(".snake");for(;e.firstChild;)e.removeChild(e.firstChild);for(let t=0;t<a.length;t++){const n=document.createElement("div"),[A,o]=a[t];I(n,A,o),e.appendChild(n)}},x=()=>{E=!1,C=!0,Z(),M=setInterval(oe,y)},R=()=>{E=!0,clearInterval(M),M=null,Z()},Ae=()=>{let e=Math.floor(Math.random()*s),t=Math.floor(Math.random()*s);return[e,t]},I=(e,t,n)=>{e.style.setProperty("--top",t),e.style.setProperty("--left",n)},U=()=>{let e=document.querySelector(".food");document.querySelector(".food")===null&&(e=document.createElement("div"),e.classList.add("food"),document.querySelector(".playground").appendChild(e));do h=Ae();while(a.some(A=>A.join()===h.join()));let[t,n]=h;I(e,t,n)},qe=()=>a[0].join()===h.join(),Z=()=>{const e=document.querySelector(".snake"),t=document.querySelector(".food");e==null||e.classList.toggle("inactive"),t==null||t.classList.toggle("inactive")},re=()=>{for(let e=1;e<a.length;e++)if(a[e].join()===a[0].join())return!0},se=()=>{R(),C=!1;const e=parseInt(document.querySelector(".score__current").textContent),t=JSON.parse(localStorage.getItem(m))||0,n=document.createElement("div");n.classList.add("game-over"),e>t?(p(W),X(m,e),localStorage.setItem(m,e),n.textContent="Best Score!"):(p(L),n.textContent="Game Over!"),document.querySelector(".playground").appendChild(n),n.onclick=()=>{document.querySelector(".snake").remove(),document.querySelector(".food").remove(),m=null,y=null,g=!1,Y(),k(),n.remove()}},ae=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0;k();ae()&&_();
